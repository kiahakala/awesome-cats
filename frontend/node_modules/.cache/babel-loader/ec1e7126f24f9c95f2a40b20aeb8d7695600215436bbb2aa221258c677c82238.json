{"ast":null,"code":"var _jsxFileName = \"/Users/kiahakala/Documents/awesome-cats/frontend/src/components/CatForm.js\",\n  _s = $RefreshSig$();\nimport { Form, useActionData, useNavigate, useNavigation } from 'react-router-dom';\nimport classes from './CatForm.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CatForm(_ref) {\n  _s();\n  let {\n    method,\n    cat\n  } = _ref;\n  const data = useActionData();\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const isSubmitting = navigation.state === 'submitting';\n  function cancelHandler() {\n    navigate('..');\n  }\n\n  // To display backend errors: \n  // 1. check if data is sent\n  // 2. check if data includes errors object\n  // 3. loop through keys in errors object and map the data stored in the keys\n\n  // Input names must be set to use Router Form!\n  return /*#__PURE__*/_jsxDEV(Form, {\n    method: method,\n    className: classes.form,\n    children: [data && data.errors && /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Object.values(data.errors).map(err => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: err\n      }, err, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"title\",\n        type: \"text\",\n        name: \"title\",\n        required: true,\n        defaultValue: cat ? cat.title : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: \"Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"image\",\n        type: \"url\",\n        name: \"image\",\n        required: true,\n        defaultValue: cat ? cat.image : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"date\",\n        type: \"date\",\n        name: \"date\",\n        required: true,\n        defaultValue: cat ? cat.date : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"description\",\n        name: \"description\",\n        rows: \"5\",\n        required: true,\n        defaultValue: cat ? cat.description : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: cancelHandler,\n        disabled: isSubmitting,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: isSubmitting,\n        children: isSubmitting ? 'Submitting...' : 'Save'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 3\n  }, this);\n}\n_s(CatForm, \"4RpZWvb1/vq18jUIhqcDrPiPElE=\", false, function () {\n  return [useActionData, useNavigate, useNavigation];\n});\n_c = CatForm;\nexport default CatForm;\nexport async function action(_ref2) {\n  let {\n    request,\n    params\n  } = _ref2;\n  const method = request.method;\n  const data = await request.formData();\n  const catData = {\n    title: data.get('title'),\n    image: data.get('image'),\n    date: data.get('date'),\n    description: data.get('description')\n  };\n  const response = await fetch('http://localhost:8080/cats', {\n    method: method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(catData)\n  });\n\n  // Status code from the backend\n  if (response.status === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: 'Could not save cat'\n    }, {\n      status: 500\n    });\n  }\n  return redirect('/cats');\n}\nvar _c;\n$RefreshReg$(_c, \"CatForm\");","map":{"version":3,"names":["Form","useActionData","useNavigate","useNavigation","classes","CatForm","method","cat","data","navigate","navigation","isSubmitting","state","cancelHandler","form","errors","Object","values","map","err","title","image","date","description","actions","action","request","params","formData","catData","get","response","fetch","headers","body","JSON","stringify","status","ok","json","message","redirect"],"sources":["/Users/kiahakala/Documents/awesome-cats/frontend/src/components/CatForm.js"],"sourcesContent":["import { Form, useActionData, useNavigate, useNavigation } from 'react-router-dom'\nimport classes from './CatForm.module.css'\n\nfunction CatForm({ method, cat }) {\n\tconst data = useActionData()\n\tconst navigate = useNavigate()\n\tconst navigation = useNavigation()\n\n\tconst isSubmitting = navigation.state === 'submitting'\n\n\tfunction cancelHandler() {\n\t\tnavigate('..')\n\t}\n\n\t// To display backend errors: \n\t// 1. check if data is sent\n\t// 2. check if data includes errors object\n\t// 3. loop through keys in errors object and map the data stored in the keys\n\n\t// Input names must be set to use Router Form!\n\treturn (\n\t\t<Form method={method} className={classes.form}>\n\t\t\t{data && data.errors && <ul>\n\t\t\t\t{Object.values(data.errors).map((err) => (\n\t\t\t\t\t<li key={err}>{err}</li>\n\t\t\t\t))}\n\t\t\t\t</ul>}\n\t\t\t<p>\n\t\t\t\t<label htmlFor='title'>Title</label>\n\t\t\t\t<input \n\t\t\t\t\tid='title' \n\t\t\t\t\ttype='text' \n\t\t\t\t\tname='title' \n\t\t\t\t\trequired \n\t\t\t\t\tdefaultValue={cat ? cat.title : ''}\n\t\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label htmlFor='image'>Image</label>\n\t\t\t\t<input \n\t\t\t\t\tid='image' \n\t\t\t\t\ttype='url' \n\t\t\t\t\tname='image' \n\t\t\t\t\trequired \n\t\t\t\t\tdefaultValue={cat ? cat.image : ''}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label htmlFor='date'>Date</label>\n\t\t\t\t<input \n\t\t\t\t\tid='date' \n\t\t\t\t\ttype='date' \n\t\t\t\t\tname='date' \n\t\t\t\t\trequired \n\t\t\t\t\tdefaultValue={cat ? cat.date : ''}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label htmlFor='description'>Description</label>\n\t\t\t\t<input \n\t\t\t\t\tid='description' \n\t\t\t\t\tname='description' \n\t\t\t\t\trows='5'\n\t\t\t\t\trequired \n\t\t\t\t\tdefaultValue={cat ? cat.description : ''}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<div className={classes.actions}>\n\t\t\t\t<button type=\"button\" onClick={cancelHandler} disabled={isSubmitting}>\n\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button disabled={isSubmitting}>\n\t\t\t\t{isSubmitting ? 'Submitting...' : 'Save'}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n\nexport default CatForm\n\nexport async function action({ request, params }) {\n\tconst method = request.method\n\tconst data = await request.formData()\n\n\tconst catData = {\n\t\ttitle: data.get('title'),\n\t\timage: data.get('image'),\n\t\tdate: data.get('date'),\n\t\tdescription: data.get('description'),\n\t}\n\n\tconst response = await fetch('http://localhost:8080/cats', {\n\t\tmethod: method,\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify(catData),\n\t})\n\n\t// Status code from the backend\n\tif (response.status === 422) {\n\t\treturn response\n\t}\n\n\tif (!response.ok) {\n\t\tthrow json({ message: 'Could not save cat' }, { status: 500 })\n\t}\n\treturn redirect('/cats')\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}