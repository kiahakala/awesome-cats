{"ast":null,"code":"var _jsxFileName = \"/Users/kiahakala/Documents/awesome-cats/frontend/src/pages/NewCat.js\";\nimport { json, redirect } from \"react-router-dom\";\nimport CatForm from \"../components/CatForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewCatPage() {\n  return /*#__PURE__*/_jsxDEV(CatForm, {\n    method: \"post\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 3\n  }, this);\n}\n_c = NewCatPage;\nexport default NewCatPage;\nexport async function action(_ref) {\n  let {\n    request,\n    params\n  } = _ref;\n  const data = await request.formData();\n  const catData = {\n    title: data.get('title'),\n    image: data.get('image'),\n    date: data.get('date'),\n    description: data.get('description')\n  };\n  const response = await fetch('http://localhost:8080/cats', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(catData)\n  });\n\n  // Status code from the backend\n  if (response.status === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: 'Could not save cat'\n    }, {\n      status: 500\n    });\n  }\n  return redirect('/cats');\n}\nvar _c;\n$RefreshReg$(_c, \"NewCatPage\");","map":{"version":3,"names":["json","redirect","CatForm","NewCatPage","action","request","params","data","formData","catData","title","get","image","date","description","response","fetch","method","headers","body","JSON","stringify","status","ok","message"],"sources":["/Users/kiahakala/Documents/awesome-cats/frontend/src/pages/NewCat.js"],"sourcesContent":["import { json, redirect } from \"react-router-dom\"\nimport CatForm from \"../components/CatForm\"\n\nfunction NewCatPage() {\n\treturn (\n\t\t<CatForm method='post'/>\n\t)\n}\n\nexport default NewCatPage\n\nexport async function action({ request, params }) {\n\tconst data = await request.formData()\n\n\tconst catData = {\n\t\ttitle: data.get('title'),\n\t\timage: data.get('image'),\n\t\tdate: data.get('date'),\n\t\tdescription: data.get('description'),\n\t}\n\n\tconst response = await fetch('http://localhost:8080/cats', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify(catData),\n\t})\n\n\t// Status code from the backend\n\tif (response.status === 422) {\n\t\treturn response\n\t}\n\n\tif (!response.ok) {\n\t\tthrow json({ message: 'Could not save cat' }, { status: 500 })\n\t}\n\treturn redirect('/cats')\n}"],"mappings":";AAAA,SAASA,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AACjD,OAAOC,OAAO,MAAM,uBAAuB;AAAA;AAE3C,SAASC,UAAU,GAAG;EACrB,oBACC,QAAC,OAAO;IAAC,MAAM,EAAC;EAAM;IAAA;IAAA;IAAA;EAAA,QAAE;AAE1B;AAAC,KAJQA,UAAU;AAMnB,eAAeA,UAAU;AAEzB,OAAO,eAAeC,MAAM,OAAsB;EAAA,IAArB;IAAEC,OAAO;IAAEC;EAAO,CAAC;EAC/C,MAAMC,IAAI,GAAG,MAAMF,OAAO,CAACG,QAAQ,EAAE;EAErC,MAAMC,OAAO,GAAG;IACfC,KAAK,EAAEH,IAAI,CAACI,GAAG,CAAC,OAAO,CAAC;IACxBC,KAAK,EAAEL,IAAI,CAACI,GAAG,CAAC,OAAO,CAAC;IACxBE,IAAI,EAAEN,IAAI,CAACI,GAAG,CAAC,MAAM,CAAC;IACtBG,WAAW,EAAEP,IAAI,CAACI,GAAG,CAAC,aAAa;EACpC,CAAC;EAED,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;IAC1DC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACR,cAAc,EAAE;IACjB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,OAAO;EAC7B,CAAC,CAAC;;EAEF;EACA,IAAIM,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;IAC5B,OAAOP,QAAQ;EAChB;EAEA,IAAI,CAACA,QAAQ,CAACQ,EAAE,EAAE;IACjB,MAAMvB,IAAI,CAAC;MAAEwB,OAAO,EAAE;IAAqB,CAAC,EAAE;MAAEF,MAAM,EAAE;IAAI,CAAC,CAAC;EAC/D;EACA,OAAOrB,QAAQ,CAAC,OAAO,CAAC;AACzB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}