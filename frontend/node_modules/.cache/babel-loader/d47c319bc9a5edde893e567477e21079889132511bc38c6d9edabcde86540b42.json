{"ast":null,"code":"var _jsxFileName = \"/Users/kiahakala/Documents/awesome-cats/frontend/src/pages/Cats.js\",\n  _s = $RefreshSig$();\nimport { Suspense } from 'react';\nimport { useLoaderData, json, defer, Await } from 'react-router-dom';\nimport CatsList from '../components/CatsList';\n\n// With react router data can be fetched beforehand\n// No need to render the component first and then fetch data <- suboptimal!\n// Browser supported response creation can be used to reduce code\n\n// Suspense component acts as a fallback\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CatsPage() {\n  _s();\n  const {\n    cats\n  } = useLoaderData(); // part of the response\n  // const cats = data.cats // extracted from the data object\n\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 23\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Await, {\n      resolve: cats,\n      children: loadedCats => /*#__PURE__*/_jsxDEV(CatsList, {\n        cats: loadedCats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 3\n  }, this);\n}\n_s(CatsPage, \"t4Wq5dWwPmnlnOuzUB4Zvo5/d2I=\", false, function () {\n  return [useLoaderData];\n});\n_c = CatsPage;\nexport default CatsPage;\nasync function loadCats() {\n  const response = await fetch('http://localhost:8080/cats');\n  if (!response.ok) {\n    throw json({\n      message: 'Could not fetch cats :('\n    }, {\n      status: 500\n    });\n  } else {\n    return response;\n  }\n}\n\n// Defer function enables rendering component before loading data\nexport function loader() {\n  defer({\n    cats: loadCats()\n  });\n}\n\n// import { useState, useEffect } from 'react'\n\n// const [isLoading, setIsLoading] = useState(false)\n// const [fetchedCats, setFetchedCats] = useState()\n// const [error, setError] = useState()\n\n// useEffect(() => {\n// \tasync function fetchCats() {\n// \t\tsetIsLoading(true)\n// \t\tconst response = await fetch('http://localhost:8080/cats')\n\n// \t\tif (!response.ok) {\n// \t\t\tsetError('Fetching cats failed')\n// \t\t} else {\n// \t\t\tconst resData = await response.json()\n// \t\t\tsetFetchedCats(resData.cats)\n// \t\t}\n// \t\tsetIsLoading(false)\n// \t}\n// \tfetchCats()\n// }, [])\n\n// return (\n// \t<>\n// \t\t<div style={{ textAlign: 'center '}}>\n// \t\t\t{isLoading && <p>Loading...</p>}\n// \t\t\t{error && <p>{error}</p>}\n// \t\t</div>\n// \t\t{!isLoading && fetchedCats && <CatsList cats={fetchedCats} />}\n// \t</>\n\n// )\nvar _c;\n$RefreshReg$(_c, \"CatsPage\");","map":{"version":3,"names":["Suspense","useLoaderData","json","defer","Await","CatsList","CatsPage","cats","textAlign","loadedCats","loadCats","response","fetch","ok","message","status","loader"],"sources":["/Users/kiahakala/Documents/awesome-cats/frontend/src/pages/Cats.js"],"sourcesContent":["import { Suspense } from 'react'\nimport { useLoaderData, json, defer, Await } from 'react-router-dom'\nimport CatsList from '../components/CatsList'\n\n// With react router data can be fetched beforehand\n// No need to render the component first and then fetch data <- suboptimal!\n// Browser supported response creation can be used to reduce code\n\n// Suspense component acts as a fallback\n\nfunction CatsPage() {\n\tconst { cats } = useLoaderData() // part of the response\n\t// const cats = data.cats // extracted from the data object\n\n\treturn (\n\t\t<Suspense fallback={<p style={{ textAlign: 'center'}}>Loading...</p>}>\n\t\t\t<Await resolve={cats}>\n\t\t\t\t{(loadedCats) => <CatsList cats={loadedCats} />} \n\t\t\t</Await>\n\t\t</Suspense>\n\t)\n}\n\nexport default CatsPage\n\nasync function loadCats() {\n\tconst response = await fetch('http://localhost:8080/cats')\n\n\tif (!response.ok) {\n\t\tthrow json(\n\t\t\t{ message: 'Could not fetch cats :(' }, { status: 500 }\n\t\t\t)\n\t} else {\n\t\treturn response\n\t}\n}\n\n// Defer function enables rendering component before loading data\nexport function loader() {\n\tdefer({\n\t\tcats: loadCats()\n\t})\n}\n\n// import { useState, useEffect } from 'react'\n\n// const [isLoading, setIsLoading] = useState(false)\n\t// const [fetchedCats, setFetchedCats] = useState()\n\t// const [error, setError] = useState()\n\n\t// useEffect(() => {\n\t// \tasync function fetchCats() {\n\t// \t\tsetIsLoading(true)\n\t// \t\tconst response = await fetch('http://localhost:8080/cats')\n\n\t// \t\tif (!response.ok) {\n\t// \t\t\tsetError('Fetching cats failed')\n\t// \t\t} else {\n\t// \t\t\tconst resData = await response.json()\n\t// \t\t\tsetFetchedCats(resData.cats)\n\t// \t\t}\n\t// \t\tsetIsLoading(false)\n\t// \t}\n\t// \tfetchCats()\n\t// }, [])\n\n// return (\n// \t<>\n// \t\t<div style={{ textAlign: 'center '}}>\n// \t\t\t{isLoading && <p>Loading...</p>}\n// \t\t\t{error && <p>{error}</p>}\n// \t\t</div>\n// \t\t{!isLoading && fetchedCats && <CatsList cats={fetchedCats} />}\n// \t</>\n\t\n// )"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,aAAa,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,QAAQ,kBAAkB;AACpE,OAAOC,QAAQ,MAAM,wBAAwB;;AAE7C;AACA;AACA;;AAEA;AAAA;AAEA,SAASC,QAAQ,GAAG;EAAA;EACnB,MAAM;IAAEC;EAAK,CAAC,GAAGN,aAAa,EAAE,EAAC;EACjC;;EAEA,oBACC,QAAC,QAAQ;IAAC,QAAQ,eAAE;MAAG,KAAK,EAAE;QAAEO,SAAS,EAAE;MAAQ,CAAE;MAAA,UAAC;IAAU;MAAA;MAAA;MAAA;IAAA,QAAK;IAAA,uBACpE,QAAC,KAAK;MAAC,OAAO,EAAED,IAAK;MAAA,UAClBE,UAAU,iBAAK,QAAC,QAAQ;QAAC,IAAI,EAAEA;MAAW;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA;EACxC;IAAA;IAAA;IAAA;EAAA,QACE;AAEb;AAAC,GAXQH,QAAQ;EAAA,QACCL,aAAa;AAAA;AAAA,KADtBK,QAAQ;AAajB,eAAeA,QAAQ;AAEvB,eAAeI,QAAQ,GAAG;EACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,CAAC;EAE1D,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;IACjB,MAAMX,IAAI,CACT;MAAEY,OAAO,EAAE;IAA0B,CAAC,EAAE;MAAEC,MAAM,EAAE;IAAI,CAAC,CACtD;EACH,CAAC,MAAM;IACN,OAAOJ,QAAQ;EAChB;AACD;;AAEA;AACA,OAAO,SAASK,MAAM,GAAG;EACxBb,KAAK,CAAC;IACLI,IAAI,EAAEG,QAAQ;EACf,CAAC,CAAC;AACH;;AAEA;;AAEA;AACC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}